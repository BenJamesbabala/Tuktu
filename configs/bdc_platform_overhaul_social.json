{
    "generators": [
        {
            "result": "tweet",
            "config": {
                "credentials": {
                    "consumer_key": "hRDU1zAIXH24QPQRCXkWzPTYi",
                    "consumer_secret": "PkfpzfawhZO5OY73JrjOXWPItBNiiJSjaH6nmGBTT6sIxiZt9c",
                    "access_token": "3055453630-GG2vwIiX9kPhSLYnGl4IUi5ITqKUnGEIn5XDFCF",
                    "access_token_secret": "QDGmNb4bSFq6k1sI8PvSS2J91mzzmBOPKFxpl8VwHskkS"
                },
                "filters": {
                    "keywords": [
                        "denhaag",
                        "verzuim",
                        "ziek"
                    ]
                }
            },
            "name": "tuktu.social.generators.TwitterGenerator",
            "next": [
                "kwTagger"
            ]
        }
    ],
    "processors": [
        {
            "id": "kwTagger",
            "result": "keywords",
            "config": {
                "object_field": "tweet",
                "tags": {
                    "keywords": [
                        "verzuim",
                        "ziek"
                    ],
                    "users": [],
                    "geos": []
                },
                "exclude_on_none": true
            },
            "name": "tuktu.social.processors.TwitterTaggerProcessor",
            "next": [
                "entityTagger"
            ]
        },
        {
            "id": "messageExtractor",
            "result": "message",
            "config": {
                "fields": [
                    {
                        "default": "",
                        "path": [
                            "tweet",
                            "text"
                        ],
                        "result": "message"
                    }
                ]
            },
            "name": "tuktu.processors.JsonFetcherProcessor",
            "next": [
                "tokenizer"
            ]
        },
        {
            "id": "entityTagger",
            "result": "entities",
            "config": {
                "object_field": "tweet",
                "tags": {
                    "keywords": [
                        "denhaag"
                    ],
                    "users": [],
                    "geos": []
                },
                "exclude_on_none": true
            },
            "name": "tuktu.social.processors.TwitterTaggerProcessor",
            "next": [
                "messageExtractor"
            ]
        },
        {
            "id": "tokenizer",
            "result": "tokens",
            "config": {
                "field": "message"
            },
            "name": "tuktu.nlp.processors.TokenizerProcessor",
            "next": [
                "liga"
            ]
        },
        {
            "id": "liga",
            "result": "lang",
            "config": {
                "field": "message"
            },
            "name": "tuktu.nlp.processors.LIGAProcessor",
            "next": [
                "postagger"
            ]
        },
        {
            "id": "postagger",
            "result": "postags",
            "config": {
                "language": "nl_NL",
                "tokens": "tokens"
            },
            "name": "tuktu.nlp.processors.POSTaggerProcessor",
            "next": [
                "rbempol"
            ]
        },
        {
            "id": "rbempol",
            "result": "polarity",
            "config": {
                "language": "nl_NL",
                "tokens": "tokens",
                "pos": "postags"
            },
            "name": "tuktu.nlp.processors.RBEMPolarityProcessor",
            "next": [
                "fieldFilterer"
            ]
        },
        {
            "id": "fieldFilterer",
            "result": "filter",
            "config": {
                "fields": [
                    {
                        "default": 0,
                        "path": [
                            "polarity"
                        ],
                        "result": "polarity"
                    },
                    {
                        "default": "",
                        "path": [
                            "message"
                        ],
                        "result": "message"
                    },
                    {
                        "default": "",
                        "path": [
                            "tweet",
                            "id_str"
                        ],
                        "result": "id"
                    },
                    {
                        "default": "",
                        "path": [
                            "tweet",
                            "created_at"
                        ],
                        "result": "timestamp"
                    },
                    {
                        "default": [],
                        "path": [
                            "keywords",
                            "keywords"
                        ],
                        "result": "keywords"
                    },
                    {
                        "default": [],
                        "path": [
                            "entities",
                            "keywords"
                        ],
                        "result": "entities"
                    }
                ]
            },
            "name": "tuktu.processors.FieldFilterProcessor",
            "next": [
                "entityLinkingSocial"
            ]
        },
        {
            "id": "entityLinkingSocial",
            "result": "entities",
            "config": {
                "url": "jdbc:mysql://n1.test/bdc_denhaag",
                "user": "bdc",
                "password": "bdcpass",
                "driver": "com.mysql.jdbc.Driver",
                "query": "SELECT DISTINCT concept.id, concept.name FROM concept_keyword NATURAL JOIN concept WHERE `concept_type` = 'entity' AND keyword IN (${entities;,});",
                "append": true
            },
            "name": "tuktu.nosql.processors.SQLProcessor",
            "next": [
                "entityExploderSocial"
            ]
        },
        {
            "id": "entityParentLookup",
            "result": "parents",
            "config": {
                "url": "jdbc:mysql://n1.test/bdc_denhaag",
                "user": "bdc",
                "password": "bdcpass",
                "driver": "com.mysql.jdbc.Driver",
                "columns": [
                    {
                        "name": "concept_parent.parent_id",
                        "var": "entity_id"
                    },
                    {
                        "name": "concept.name",
                        "var": "entity_name"
                    }
                ],
                "from": "concept_parent NATURAL JOIN concept",
                "where": "id = ${entity_id}",
                "include_original": true
            },
            "name": "tuktu.nosql.processors.sql.RecursiveLookupProcessor",
            "next": [
                "factLinkingCsv"
            ]
        },
        {
            "id": "entityExploderSocial",
            "result": "entities",
            "config": {
                "field": "entities"
            },
            "name": "tuktu.processors.SequenceExploderProcessor",
            "next": [
                "sqlRename"
            ]
        },
        {
            "id": "factExploder",
            "result": "facts",
            "config": {
                "field": "facts",
                "ignore_empty": true
            },
            "name": "tuktu.processors.SequenceExploderProcessor",
            "next": [
                "factsRenamer"
            ]
        },
        {
            "id": "factsRenamer",
            "result": "dasdas",
            "config": {
                "fields": [
                    {
                        "path": [
                            "facts",
                            "concept.id"
                        ],
                        "result": "fact_id"
                    },
                    {
                        "path": [
                            "facts",
                            "concept.name"
                        ],
                        "result": "fact_name"
                    }
                ]
            },
            "name": "tuktu.processors.FieldRenameProcessor",
            "next": [
                "metadataFetcher"
            ]
        },
        {
            "id": "factLinkingCsv",
            "result": "facts",
            "config": {
                "url": "jdbc:mysql://n1.test/bdc_denhaag",
                "user": "bdc",
                "password": "bdcpass",
                "driver": "com.mysql.jdbc.Driver",
                "query": "SELECT DISTINCT concept.id, concept.name FROM concept_keyword NATURAL JOIN concept WHERE `concept_type` = 'fact' AND keyword IN (${keywords;,});",
                "append": true
            },
            "name": "tuktu.nosql.processors.SQLProcessor",
            "next": [
                "factExploder"
            ]
        },
        {
            "id": "sqlRename",
            "result": "dasdas",
            "config": {
                "fields": [
                    {
                        "path": [
                            "entities",
                            "concept.id"
                        ],
                        "result": "entity_id"
                    },
                    {
                        "path": [
                            "entities",
                            "concept.name"
                        ],
                        "result": "entity_name"
                    }
                ]
            },
            "name": "tuktu.processors.FieldRenameProcessor",
            "next": [
                "entityParentLookup"
            ]
        },
        {
            "id": "metadataFetcher",
            "result": "metadata",
            "config": {
                "url": "jdbc:mysql://n1.test/bdc_denhaag",
                "user": "bdc",
                "password": "bdcpass",
                "driver": "com.mysql.jdbc.Driver",
                "query": "SELECT concept_metadata.metadata FROM concept_metadata WHERE `id` = '${entity_id}';",
                "append": true
            },
            "name": "tuktu.nosql.processors.SQLProcessor",
            "next": [
                "sourceAdder"
            ]
        },
        {
            "id": "sourceAdder",
            "result": "source",
            "config": {
                "value": "Twitter"
            },
            "name": "tuktu.processors.FieldConstantAdderProcessor",
            "next": [
                "TweetCountAdder"
            ]
        },
        {
            "id": "TweetCountAdder",
            "result": "tweet_count",
            "config": {
                "value": "1"
            },
            "name": "tuktu.processors.FieldConstantAdderProcessor",
            "next": [
                "TwitterIdRenamer"
            ]
        },
        {
            "id": "mongoDbInserter",
            "result": "mongodb",
            "config": {
                "hosts": [
                    "n1.test"
                ],
                "database": "bdc",
                "collection": "bdc_denhaag_records",
                "fields": [
                    "fact_id",
                    "fact_name",
                    "entity_id",
                    "entity_name",
                    "timestamp",
                    "source",
                    "polarity",
                    "twitter_id",
                    "metadata",
                    "keywords",
                    "message"
                ]
            },
            "name": "tuktu.nosql.processors.mongodb.MongoDBInsertProcessor",
            "next": []
        },
        {
            "id": "TwitterIdRenamer",
            "result": "result",
            "config": {
                "fields": [
                    {
                        "path": [
                            "id"
                        ],
                        "result": "twitter_id"
                    }
                ]
            },
            "name": "tuktu.processors.FieldRenameProcessor",
            "next": [
                "mongoDbInserter"
            ]
        }
    ]
}